<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magento.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magento.com for more information.
 *
 * @category    design
 * @package     default_default
 * @copyright   Copyright (c) 2006-2018 Magento, Inc. (http://www.magento.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php $this->getSalesmen(); ?>
<h1>Salesman Work Comparison</h1>
<form id="salesman-form">
    <div id="filters">
        <label for="fromDate">From Date:</label>
        <input type="date" id="from_date" name="from_date">
        <label for="toDate">To Date:</label>
        <input type="date" id="to_date" name="to_date">
        <label for="salesman1">Salesman 1:</label>
        <select id="salesman1" name="salesman1">
            <?php foreach ($this->getSalesmen() as $salesman) { ?>
                <option value="<?php echo $salesman->getId() ?>"><?php echo $salesman->getUsername() ?></option>
            <?php } ?>
        </select>
        <label for="salesman2">Salesman 2:</label>
        <select id="salesman2" name="salesman2">
            <?php foreach ($this->getSalesmen() as $salesman) { ?>
                <option value="<?php echo $salesman->getId() ?>"><?php echo $salesman->getUsername() ?></option>
            <?php } ?>
        </select>
        <div class="multiselect">
            <div class="selectBox" onclick="showCheckboxes()">
                <select id="salesmans">
                    <option>Select an option</option>
                </select>
                <div class="overSelect"></div>
            </div>
            <div id="checkboxes">
                <label for="check_all">Select all <input type="checkbox" id="check_all"></label>
                <?php foreach ($this->getMetrics() as $key => $value) { ?>
                    <label for="<?php echo $key ?>"><?php echo $value ?>
                        <input type="checkbox" name="metrics[]" id="salesman" class="salesman" value="<?php echo $key ?>">
                    </label>
                <?php } ?>
            </div>
        </div>
        <br>
        <label for="showChart">Show Chart:</label>
        <input type="checkbox" name="showChart" id="showChart" value="showchart">
    </div>
    <input type="submit" value="submit">
</form>
<div class="content-header">
    <table cellspacing="0">
        <tr>
            <td style="<?php echo $this->getHeaderWidth() ?>"><?php echo $this->getHeaderHtml() ?></td>
            <td class="form-buttons"><?php echo $this->getButtonsHtml() ?></td>
        </tr>
    </table>
</div>
<div>
    <?php echo $this->getGridHtml() ?>
</div>
<script>
    var checkAllCheckbox = document.getElementById('check_all');
    var salesmanCheckboxes = document.querySelectorAll(".salesman");
    checkAllCheckbox.addEventListener('click', function () {
        salesmanCheckboxes.forEach(function (checkbox) {
            checkbox.checked = checkAllCheckbox.checked;
        });
    });
    var expanded = false;
    function showCheckboxes() {
        var checkboxes = document.getElementById("checkboxes");
        if (!expanded) {
            checkboxes.style.display = "block";
            expanded = true;
        } else {
            checkboxes.style.display = "none";
            expanded = false;
        }
    }
</script>
<style>
    .multiselect {
        width: 200px;
    }

    .selectBox {
        position: relative;
    }

    .selectBox select {
        width: 100%;
        font-weight: bold;
    }

    .overSelect {
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
    }

    #checkboxes {
        display: none;
        border: 1px #dadada solid;
    }

    #checkboxes label {
        display: block;
    }

    #checkboxes label:hover {
        background-color: #1e90ff;
    }
</style>